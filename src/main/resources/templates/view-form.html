<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Link</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .card { border-radius: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
        .btn-custom { border-radius: 25px; padding: 10px 30px; font-weight: 600; }
        .form-control { border-radius: 15px; }
    </style>
</head>
<body>
<div class="container py-5">
    <!-- Language Selector -->
    <div class="position-fixed top-0 end-0 p-3">
        <div class="btn-group">
            <button type="button" class="btn btn-outline-light btn-sm dropdown-toggle" data-bs-toggle="dropdown">
                <i class="bi bi-globe"></i> Language
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="?lang=en">English</a></li>
                <li><a class="dropdown-item" href="?lang=pl">Polski</a></li>
                <li><a class="dropdown-item" href="?lang=de">Deutsch</a></li>
            </ul>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-4">
                <h1 class="display-4 fw-bold text-white">
                    <span th:if="${lang == 'pl'}">Zobacz Link</span>
                    <span th:if="${lang == 'de'}">Link anzeigen</span>
                    <span th:if="${lang == 'en' or lang == null}">View Link</span>
                </h1>
                <p class="lead text-white-50">
                    <span th:if="${lang == 'pl'}">Wprowadź ID linku i hasło, aby zobaczyć szczegóły</span>
                    <span th:if="${lang == 'de'}">Geben Sie Link-ID und Passwort ein, um Details anzuzeigen</span>
                    <span th:if="${lang == 'en' or lang == null}">Enter link ID and password to view details</span>
                </p>
            </div>

            <div class="card">
                <div class="card-body p-5">
                    <!-- Error Message -->
                    <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        <span th:text="${errorMessage}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>

                    <!-- View Link Form -->
                    <form action="/view" method="post">
                        <input type="hidden" name="lang" th:value="${lang}">

                        <div class="mb-4">
                            <label for="linkId" class="form-label fw-semibold">
                                <span th:if="${lang == 'pl'}">ID Linku</span>
                                <span th:if="${lang == 'de'}">Link-ID</span>
                                <span th:if="${lang == 'en' or lang == null}">Link ID</span>
                            </label>
                            <input type="text"
                                   id="linkId"
                                   name="linkId"
                                   class="form-control"
                                   th:placeholder="${lang == 'pl'} ? 'np. aBcDeFgHiJ' : (${lang == 'de'} ? 'z.B. aBcDeFgHiJ' : 'e.g. aBcDeFgHiJ')"
                                   required>
                            <small class="form-text text-muted">
                                <i class="bi bi-info-circle me-1"></i>
                                <span th:if="${lang == 'pl'}">10-znakowy identyfikator wygenerowany podczas tworzenia linku</span>
                                <span th:if="${lang == 'de'}">10-stellige ID, die beim Erstellen des Links generiert wurde</span>
                                <span th:if="${lang == 'en' or lang == null}">The 10-character ID generated when creating the link</span>
                            </small>
                        </div>

                        <div class="mb-4">
                            <label for="password" class="form-label fw-semibold">
                                <span th:if="${lang == 'pl'}">Hasło (jeśli wymagane)</span>
                                <span th:if="${lang == 'de'}">Passwort (falls erforderlich)</span>
                                <span th:if="${lang == 'en' or lang == null}">Password (if required)</span>
                            </label>
                            <input type="password"
                                   id="password"
                                   name="password"
                                   class="form-control"
                                   th:placeholder="${lang == 'pl'} ? 'Wprowadź hasło jeśli link jest chroniony' : (${lang == 'de'} ? 'Passwort eingeben, falls Link geschützt ist' : 'Enter password if link is protected')">
                            <small class="form-text text-muted">
                                <i class="bi bi-shield-lock me-1"></i>
                                <span th:if="${lang == 'pl'}">Wymagane tylko jeśli link został utworzony z hasłem</span>
                                <span th:if="${lang == 'de'}">Nur erforderlich, wenn der Link mit einem Passwort erstellt wurde</span>
                                <span th:if="${lang == 'en' or lang == null}">Only required if the link was created with a password</span>
                            </small>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg btn-custom">
                                <i class="bi bi-search me-2"></i>
                                <span th:if="${lang == 'pl'}">Zobacz Link</span>
                                <span th:if="${lang == 'de'}">Link anzeigen</span>
                                <span th:if="${lang == 'en' or lang == null}">View Link</span>
                            </button>
                        </div>
                    </form>

                    <div class="text-center mt-4">
                        <a href="/" class="btn btn-outline-secondary btn-custom">
                            <i class="bi bi-arrow-left me-2"></i>
                            <span th:if="${lang == 'pl'}">Wstecz</span>
                            <span th:if="${lang == 'de'}">Zurück</span>
                            <span th:if="${lang == 'en' or lang == null}">Back</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>